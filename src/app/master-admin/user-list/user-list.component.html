<div class="user-list-container">
  <div class="header">
    <h1>User Management</h1>
    <p>Manage all users in the system</p>
  </div>

  <div class="filters-section">
    <div class="search-box">
      <input
        type="text"
        placeholder="Search by username or email..."
        [(ngModel)]="searchTerm"
        (input)="onSearchChange()"
        class="search-input"
      />
      <span class="search-icon">ğŸ”</span>
    </div>

    <div class="filter-group">
      <label for="status-filter">Status:</label>
      <select
        id="status-filter"
        [(ngModel)]="selectedStatus"
        (change)="onStatusChange()"
        class="status-select"
      >
        <option value="all">All</option>
        <option value="active">Active</option>
        <option value="inactive">Inactive</option>
      </select>
    </div>
  </div>

  <div class="table-container">
    <div *ngIf="isLoading" class="loading">
      <p>Loading users...</p>
    </div>

    <table *ngIf="!isLoading" class="users-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Username</th>
          <th>Email</th>
          <th>Role</th>
          <th>Status</th>
          <th>Created At</th>
          <th>Last Login</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of filteredUsers" class="user-row">
          <td>{{ user.id }}</td>
          <td>{{ user.username }}</td>
          <td>{{ user.email }}</td>
          <td>
            <span class="role-badge" [class.role-admin]="user.role === 'admin'">
              {{ user.role }}
            </span>
          </td>
          <td>
            <span
              class="status-badge"
              [class.status-active]="user.status === 'active'"
              [class.status-inactive]="user.status === 'inactive'"
            >
              {{ user.status }}
            </span>
          </td>
          <td>{{ user.createdAt }}</td>
          <td>{{ user.lastLogin || 'Never' }}</td>
          <td class="actions-cell">
            <button
              class="btn btn-edit"
              (click)="editUser(user.id)"
              title="Edit User"
            >
              âœï¸
            </button>
            <button
              class="btn btn-toggle"
              (click)="toggleUserStatus(user)"
              [title]="user.status === 'active' ? 'Deactivate' : 'Activate'"
            >
              {{ user.status === 'active' ? 'â¸ï¸' : 'â–¶ï¸' }}
            </button>
            <button
              class="btn btn-delete"
              (click)="deleteUser(user.id)"
              title="Delete User"
            >
              ğŸ—‘ï¸
            </button>
          </td>
        </tr>
        <tr *ngIf="filteredUsers.length === 0">
          <td colspan="8" class="no-data">No users found</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>




