<div class="dashboard-container" [class.sidebar-closed]="!isSidebarOpen" [class]="currentTheme + '-theme'">
  <!-- Shared Sidebar -->
  <app-sidebar [isOpen]="isSidebarOpen" (sidebarToggle)="toggleSidebar()"></app-sidebar>

  <!-- Mobile Sidebar Overlay -->
  <div class="sidebar-overlay" *ngIf="isSidebarOpen" (click)="closeSidebar()"></div>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Admin Header -->
    <header class="admin-header">
      <div class="header-left">
        <button class="sidebar-toggle-header-btn" *ngIf="!isSidebarOpen" (click)="toggleSidebar()" title="Open Sidebar">
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>
      </div>
      
      <div class="header-right">
        <div class="theme-switcher-wrapper">
          <button class="header-icon theme-toggle" (click)="toggleThemeDropdown()">
            <span>{{ getThemeIcon() }}</span>
          </button>
          <div class="theme-dropdown" [class.active]="isThemeDropdownOpen">
            <button 
              class="theme-option" 
              [class.active]="currentTheme === 'light'"
              (click)="selectTheme('light')">
              <span class="theme-icon">â˜€ï¸</span>
              <span class="theme-label">Light</span>
            </button>
            <button 
              class="theme-option" 
              [class.active]="currentTheme === 'dark'"
              (click)="selectTheme('dark')">
              <span class="theme-icon">ğŸŒ™</span>
              <span class="theme-label">Dark</span>
            </button>
            <button 
              class="theme-option" 
              [class.active]="currentTheme === 'blue'"
              (click)="selectTheme('blue')">
              <span class="theme-icon">ğŸŒŠ</span>
              <span class="theme-label">Blue</span>
            </button>
          </div>
        </div>
        <button class="header-icon notifications">
          <span>ğŸ””</span>
          <span class="notification-badge">3</span>
        </button>
        <button class="header-icon profile">
          <span>ğŸ‘¤</span>
        </button>
      </div>
    </header>

    <!-- Top Bar -->
    <header class="top-bar">
      <div class="top-bar-left">
        <h1 class="page-title">Support</h1>
        <p class="page-subtitle">Get in touch with us. We're here to help!</p>
      </div>
    </header>

    <!-- Support Content -->
    <div class="dashboard-content">
      <div class="support-container">
        <div class="support-content">
          <div class="contact-form-wrapper">
            <form #supportForm="ngForm" (ngSubmit)="onSubmit(supportForm)" class="contact-form">
              <!-- Success Message -->
              <div *ngIf="submitSuccess" class="alert alert-success">
                Thank you for contacting us! We will get back to you soon.
              </div>

              <!-- Error Message -->
              <div *ngIf="submitError" class="alert alert-error">
                {{ submitError }}
              </div>

              <div class="form-group">
                <label for="name">Name <span class="required">*</span></label>
                <input 
                  type="text" 
                  id="name" 
                  name="name" 
                  [(ngModel)]="contactForm.name"
                  class="form-input"
                  [class.invalid]="supportForm.submitted && supportForm.controls['name']?.invalid"
                  required
                  minlength="2"
                />
                <div *ngIf="supportForm.submitted && supportForm.controls['name']?.invalid" class="error-message">
                  <span *ngIf="supportForm.controls['name']?.errors?.['required']">Name is required.</span>
                  <span *ngIf="supportForm.controls['name']?.errors?.['minlength']">Name must be at least 2 characters long.</span>
                </div>
              </div>

              <div class="form-group">
                <label for="subject">Subject <span class="required">*</span></label>
                <input 
                  type="text" 
                  id="subject" 
                  name="subject" 
                  [(ngModel)]="contactForm.subject"
                  class="form-input"
                  [class.invalid]="supportForm.submitted && supportForm.controls['subject']?.invalid"
                  required
                  minlength="3"
                />
                <div *ngIf="supportForm.submitted && supportForm.controls['subject']?.invalid" class="error-message">
                  <span *ngIf="supportForm.controls['subject']?.errors?.['required']">Subject is required.</span>
                  <span *ngIf="supportForm.controls['subject']?.errors?.['minlength']">Subject must be at least 3 characters long.</span>
                </div>
              </div>

              <div class="form-group">
                <label for="email">Email <span class="required">*</span></label>
                <input 
                  type="email" 
                  id="email" 
                  name="email" 
                  [(ngModel)]="contactForm.email"
                  class="form-input"
                  [class.invalid]="supportForm.submitted && supportForm.controls['email']?.invalid"
                  required
                  email
                />
                <div *ngIf="supportForm.submitted && supportForm.controls['email']?.invalid" class="error-message">
                  <span *ngIf="supportForm.controls['email']?.errors?.['required']">Email is required.</span>
                  <span *ngIf="supportForm.controls['email']?.errors?.['email']">Please enter a valid email address.</span>
                </div>
              </div>

              <div class="form-group">
                <label for="message">Message <span class="required">*</span></label>
                <textarea 
                  id="message" 
                  name="message" 
                  [(ngModel)]="contactForm.message"
                  class="form-textarea"
                  [class.invalid]="supportForm.submitted && supportForm.controls['message']?.invalid"
                  rows="5"
                  required
                  minlength="10"
                ></textarea>
                <div *ngIf="supportForm.submitted && supportForm.controls['message']?.invalid" class="error-message">
                  <span *ngIf="supportForm.controls['message']?.errors?.['required']">Message is required.</span>
                  <span *ngIf="supportForm.controls['message']?.errors?.['minlength']">Message must be at least 10 characters long.</span>
                </div>
              </div>

              <div class="form-group checkbox-group">
                <input 
                  type="checkbox" 
                  id="consent" 
                  name="consent" 
                  [(ngModel)]="contactForm.consent"
                  class="form-checkbox"
                  [class.invalid]="supportForm.submitted && !contactForm.consent"
                  required
                />
                <label for="consent" class="checkbox-label">
                  I consent to collect my name and email. For more details check our 
                  <a href="#" class="privacy-link">Privacy Policy</a>.
                  <span class="required">*</span>
                </label>
                <div *ngIf="supportForm.submitted && !contactForm.consent" class="error-message">
                  You must accept the consent to proceed.
                </div>
              </div>

              <button type="submit" class="submit-button" [disabled]="!isFormValid || isSubmitting">
                <span *ngIf="!isSubmitting">Submit</span>
                <span *ngIf="isSubmitting">Submitting...</span>
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>







